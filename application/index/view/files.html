<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../Public/layui/css/layui.css">
    <script src="../../Public/Js/jquery_v3.4.1.js"></script>
    <script src="../../Public/Js/jquery.cookie.js"></script>
    <script src="../../Public/layui/layui.all.js"></script>
    <script src="../../Public/layui/lay/modules/jquery.js"></script>
    <script src="../../Public/Js/highcharts.js"></script>
    <script src="../../Public/Js/exporting.js"></script>
    <script src="../../Public/Js/oldie.js"></script>
    <script src="../../Public/Js/highcharts-zh_CN.js"></script>
</head>
<style>
    p{
        text-align: center;
        font-size: 16px;
        color: dodgerblue;
        margin:0 auto;
    }

</style>
<body >
<div class="layui-container">
    <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
        <ul class="layui-tab-title">
            <li class="layui-this" id="logLi">LOG文件</li>
            <li id="setLi">SET文件</li>
            <li id="vpnLi">VPN文件</li>
        </ul>
        <div class="layui-tab-content" style="height: 300px;width: 1125px">
            <!--LOG 内容 -->
            <div class="layui-tab-item layui-show" style="width: 100%;height: 200%;">
                <div style="height: 100%;width: 100%">
                    <div style="padding: 1% 1% 1% 3%; background-color: #F2F2F2;width: 50%;height: 15%;float: left">
                        <div style="margin:0px auto;">
                            <div style="height: 30%;width: 30%;float: left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">IP地址:</div>
                                    <div class="layui-card-body">
                                        <p>000.000.000.000</p>
                                    </div>
                                </div>
                            </div>

                            <div style="height: 30%;width: 30%;float:left;padding-right: 3%;padding-left: 3%">
                                <div class="layui-card">
                                    <div class="layui-card-header">eth0内网IP地址：</div>
                                    <div class="layui-card-body">
                                        <p>000.000.000.000</p>
                                    </div>
                                </div>
                            </div>

                            <div style="height: 30%;width: 30%;float:left">
                                <div class="layui-card">
                                    <div class="layui-card-header">eth1内网IP地址：</div>
                                    <div class="layui-card-body">
                                        <p>000.000.000.000</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="width: 45%;height: 80%;float: right;">
                        <div style="width: 100%;height: 10%;">
                            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 1%;margin-bottom: 0">
                                <legend><p style="color: #0C0C0C;font-size: 15px">电源实时温度</p></legend>
                            </fieldset>
                            <h1 style="padding-left: 45%;color: dodgerblue"> 50℃</h1></span>
                        </div>


                        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 1%;margin-bottom: 0">
                            <legend><p style="color: #0C0C0C;font-size: 15px">储能电容</p></legend>
                        </fieldset>
                        <div style="width: 48%;padding: 1%;float: left">
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="200">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>编号</th>
                                    <th>单位/V</th>
                                    <th>状态</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>91</td>
                                    <td>4.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>92</td>
                                    <td>8.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>93</td>
                                    <td>12.5</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>94</td>
                                    <td>16.5</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>95</td>
                                    <td>24.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div style="width: 49%;padding-right: 1%;padding-top:1%;float: left">
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="200">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>编号</th>
                                    <th>单位/V</th>
                                    <th>状态</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>121</td>
                                    <td>4.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>122</td>
                                    <td>8.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>123</td>
                                    <td>12.5</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>124</td>
                                    <td>16.5</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>125</td>
                                    <td>24.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div style="width: 100%;float: left">
                            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 1%;margin-bottom: 0">
                                <legend><p style="color: #0C0C0C;font-size: 15px">输出到总线对应的</p></legend>
                            </fieldset>
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="150">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>实时电压</th>
                                    <th>实时电流</th>
                                    <th>状态</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>00.0</td>
                                    <td>00.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div style="width: 100%;">
                            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 1%;margin-bottom: 0">
                                <legend><p style="color: #0C0C0C;font-size: 15px">输出到ATOM的</p></legend>
                            </fieldset>
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="150">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>实时电压</th>
                                    <th>实时电流</th>
                                    <th>状态</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>00.0</td>
                                    <td>00.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div style="width: 100%;">
                            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 1%;margin-bottom: 0">
                                <legend><p style="color: #0C0C0C;font-size: 15px">输出到收发信机的</p></legend>
                            </fieldset>
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="150">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>实时电压</th>
                                    <th>实时电流</th>
                                    <th>状态</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>00.0</td>
                                    <td>00.0</td>
                                    <td>
                                        <h6 style="float: left;padding: 3px">正常 </h6><span class="layui-badge-dot layui-bg-blue" style="float: left"></span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div style="width: 20%;height:60%;float: left;padding: 1%;">
                        <div id="container" style="max-width:100%;height:50%;"></div>
                        <div id="container1" style="max-width:100%;height:50%"></div>
                        <div id="container2" style="max-width:100%;height:50%"></div>
                    </div>
                    <div style="width: 30%;height:60%;float: left;padding-left: 1%;">
                        <div style="width: 100%;height: 25%;">
                            <div style="height: 15%;width: 30%;float:left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">数据包类型：</div>
                                    <div class="layui-card-body">
                                        <p>4</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 30%;float:left;padding-left: 3%;">
                                <div class="layui-card">
                                    <div class="layui-card-header">系统延时：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 30%;float:left;padding-left: 3%">
                                <div class="layui-card">
                                    <div class="layui-card-header">系统计时：</div>
                                    <div class="layui-card-body">
                                        <p>000/s</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="padding-top: 1%">
                            <hr class="layui-bg-blue">
                            <fieldset class="layui-elem-field layui-field-title">
                                <legend><p style="color: #0C0C0C;font-size: 15px;">通道1-8收到一个数据包延迟的最长时间  单位/毫秒（ms）</p></legend>
                            </fieldset>
                            <div style="height: 15%;width: 24%;float:left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">1通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">2通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">3通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">4通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">5通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">6通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">7通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">8通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="padding-top:10px">
                            <hr class="layui-bg-blue">
                            <fieldset class="layui-elem-field layui-field-title">
                                <legend><p style="color: #0C0C0C;font-size: 15px;">通道1-8收到一个数据包延迟的最短时间  单位/毫秒（ms）</p></legend>
                            </fieldset>
                            <div style="height: 15%;width: 24%;float:left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">1通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">2通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">3通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">4通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;">
                                <div class="layui-card">
                                    <div class="layui-card-header">5通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">6通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">7通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                            <div style="height: 15%;width: 24%;float:left;padding-left: 1%">
                                <div class="layui-card">
                                    <div class="layui-card-header">8通道：</div>
                                    <div class="layui-card-body">
                                        <p>000/ms</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!--<div id="container" style="max-width:40%;height:30%"></div>-->

            </div>

            <!--SET 内容 -->
            <div class="layui-tab-item" style="height: 300px;width: 1125px">
                <div style="width: 100%;height: 100%">
                    <div style="width:70%;height: 100%;float: left">
                        <div style="padding: 2% 1% 2% 2%; background-color: #F2F2F2;width: 25%;height: 30%;float: left">
                            <div style="margin:0px auto;">
                                <div style="height: 30%;width: 100%;float: left;">
                                    <div class="layui-card">
                                        <div class="layui-card-header">ATOM的IP地址:</div>
                                        <div class="layui-card-body">
                                            <p>000.000</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div style="padding: 2%; background-color: #F2F2F2;width: 25%;height: 30%;float: left">
                            <div style="margin:0px auto;">
                                <div style="height: 30%;width: 100%;float: left;">
                                    <div class="layui-card">
                                        <div class="layui-card-header">当前ATOM的IP地址:</div>
                                        <div class="layui-card-body">
                                            <p>000.000</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 50%;">
                            <fieldset class="layui-elem-field layui-field-title">
                                <legend style="padding-top: 3%"><p style="color: #0C0C0C;font-size: 15px;">数据包的头尾数据</p></legend>
                            </fieldset>
                            <table class="layui-table" lay-skin="line">
                                <colgroup>
                                    <col width="150">
                                    <col width="150">
                                    <col width="150">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>头部数据</th>
                                    <th>尾部数据</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>000.000</td>
                                    <td>000.000</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="width:30%;height: 100%;float: left;">
                        <fieldset class="layui-elem-field site-demo-button" style="margin-top: 1%;">
                            <legend>参数设置 <i class="layui-icon layui-icon-tips"></i> </legend>
                            <form class="layui-form" action="" style="padding-top: 2%">
                                <div class="layui-form-item" >
                                    <label class="layui-form-label">启用状态：</label>
                                    <div class="layui-input-block">
                                        <input type="checkbox" name="input5" lay-skin="switch" lay-filter="switchTest" lay-text="ON|OFF">
                                    </div>
                                </div>
                                <div class="layui-form-item" >
                                    <label class="layui-form-label">配置通道：</label>
                                    <div class="layui-input-block" style="padding-right: 3%">
                                        <input type="text" name="input6" maxlength="1" required placeholder="请输入通道号" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-form-item" >
                                    <label class="layui-form-label">目的地址：</label>
                                    <div class="layui-input-block" style="padding-right: 3%">
                                        <input type="text" name="input45" maxlength="5" required placeholder="请输入地址" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-form-item" >
                                    <label class="layui-form-label">目的通道：</label>
                                    <div class="layui-input-block" style="padding-right: 3%">
                                        <input type="text" name="input47" maxlength="1" required placeholder="请输入通道号" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-form-item" style="padding-left: 35%" >
                                    <button class="layui-btn" lay-submit lay-filter="formSubmit" >提交</button>
                                    <button id="resetBtn" type="reset" class="layui-btn layui-btn-primary">重置</button>
                                </div>
                            </form>
                        </fieldset>

                    </div>
                </div>
            </div>

            <!--VPN 内容 -->
            <div class="layui-tab-item" style="height: 300px;width: 1125px">内容vpn</div>
        </div>
    </div>
</div>
</body>
<!--<script src="../../Public/Js/files_html.js"></script>-->
<script>

    layui.use('form', function(){
        var form = layui.form;
        var checked =null;
         $("#resetBtn").click();

        //监听指定开关
        form.on('switch(switchTest)', function(data){
            checked = this.checked;
            layer.msg('开关checked：'+ (this.checked ? 'true' : 'false'), {
                offset: '6px'
            });
        });

        //监听提交
        form.on('submit(formSubmit)', function(data){
            if (checked!=null&&checked==true&&data.field.input5!=""&&data.field.input6!=""&&data.field.input45!=""&&data.field.input47!="") {
                //数据校验   isNaN()：校验非数字
                if(isNaN(data.field.input6)||isNaN(data.field.input45)||isNaN(data.field.input47)){
                    layer.msg('提示信息：<br>输入必须为数字', {
                        time: 20000, //20s后自动关闭
                        btn: ['明白了']
                    });
                }else {
                    var input6 = Number(data.field.input6);
                    var input47 = Number(data.field.input47);
                    if (input6>8 || input6<1 || input47>8 || input47<1){
                        layer.msg('提示信息：<br>配置通道和目的通道的输入范围为：[1 - 8]', {
                            time: 20000, //20s后自动关闭
                            btn: ['明白了']
                        });
                    } else {
                        layer.msg(JSON.stringify(data.field));
                    }

                }

            }else {
                layer.msg('提示信息：<br>启用按钮必须开启,并且输入内容不能为空', {
                    time: 20000, //20s后自动关闭
                    btn: ['明白了']
                });
            }
            return false;
        });
    });

    $(document).ready(function () {

        var ws = null;
        //生成唯一ID
        var uuid = Number(Math.random().toString().substr(3,length) + Date.now()).toString(36);
        //创建websocket连接
        ws = new WebSocket("ws://127.0.0.1:9090");
        ws.onopen = function (){
            ws.send("666");
            console.log("WebSocket 成功连接");
        }

        ws.onmessage = function (data) {
            // $('#text_chat_content').append(data.data);
            console.log(data.data);
            var websocketJson = $.parseJSON(data.data);
            var array = websocketJson.data;
            // //更新表格数据
            // chart.series[0].setData(array, true, false, false);
            // chart1.series[0].setData(array, true, false, false);
            // chart2.series[0].setData(array, true, false, false);
        };

        ws.onclose = function () {
            console.log("websocket 断开连接")
        };

        // 监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口。
        window.onbeforeunload = function() {
            ws.close();
        };

        var state = "GET_FILE",fileName = null,fileId = null;

        $("#logLi").click(function () {
            fileName = "log"+fileId;
        });
        $("#setLi").click(function () {
            fileName = "php"+fileId;
        });
        $("#log").click(function () {
            fileName = "vpn"+fileId;
        });

        // setInterval(function(){
        //     //判断websocket连接状态
        //     if(ws.readyState==ws.OPEN){
        //         var data={
        //             "state":state,
        //             "name":fileName
        //         };
        //         console.log(data)
        //         // ws.send( )
        //     }
        // }, 1000);

    });

    Highcharts.setOptions({
        global: {
            useUTC: false
        }
    });
    function activeLastPointToolip(chart) {
        var points = chart.series[0].points;
        chart.tooltip.refresh(points[points.length -1]);
    }

    var chart = Highcharts.chart('container', {
        chart: {
            type: 'spline',
            marginRight: 10,
            events: {
                load: function () {
                    var series = this.series[0],
                        chart = this;
                    activeLastPointToolip(chart);
                    setInterval(function () {
                        var x = (new Date()).getTime(), // 当前时间
                            y = Math.random();          // 随机值
                        series.addPoint([x, y], true, true);
                        activeLastPointToolip(chart);
                    }, 1000);
                }
            }
        },
        title: {
            text: '平均网络延迟'
        },
        xAxis: {
            type: 'datetime',
            tickPixelInterval: 150
        },
        yAxis: {
            title: {
                text: null
            }
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' +
                    Highcharts.dateFormat('%H:%M:%S', this.x) + '<br/>' +
                    Highcharts.numberFormat(this.y, 2);
            }
        },
        legend: {
            enabled: false
        },
        credits: {
            enabled: false
        },
        series: [{
            name: '平均延时',
            marker: {
                //小圆点
                enabled: false
            },
            data: (function () {
                // 生成随机值
                var data = [],
                    time = (new Date()).getTime(),
                    i;
                for (i = -19; i <= 0; i += 1) {
                    data.push({
                        x: time + i * 1000,
                        y: Math.random()
                    });
                }
                return data;
            }())
        }]
    });


    var chart1 = Highcharts.chart('container1', {
        chart: {
            type: 'spline',
            marginRight: 10,
            events: {
                load: function () {
                    var series = this.series[0],
                        chart = this;
                    activeLastPointToolip(chart);
                    setInterval(function () {
                        var x = (new Date()).getTime(), // 当前时间
                            y = Math.random();          // 随机值
                        series.addPoint([x, y], true, true);
                        activeLastPointToolip(chart);
                    }, 1000);
                }
            }
        },
        title: {
            text: '实时网络延迟'
        },
        xAxis: {
            type: 'datetime',
            tickPixelInterval: 150
        },
        yAxis: {
            title: {
                text: null
            }
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' +
                    Highcharts.dateFormat('%H:%M:%S', this.x) + '<br/>' +
                    Highcharts.numberFormat(this.y, 2);
            }
        },
        legend: {
            enabled: false
        },
        credits: {
            enabled: false
        },
        series: [{
            name: '实时延时',
            marker: {
                //小圆点
                enabled: false
            },
            data: (function () {
                // 生成随机值
                var data = [],
                    time = (new Date()).getTime(),
                    i;
                for (i = -19; i <= 0; i += 1) {
                    data.push({
                        x: time + i * 1000,
                        y: Math.random()
                    });
                }
                return data;
            }())
        }]
    });
    var chart2 = Highcharts.chart('container2', {
        chart: {
            type: 'spline',
            marginRight: 10,
            events: {
                load: function () {
                    var series = this.series[0],
                        chart = this;
                    activeLastPointToolip(chart);
                    setInterval(function () {
                        var x = (new Date()).getTime(), // 当前时间
                            y = Math.random();          // 随机值
                        series.addPoint([x, y], true, true);
                        activeLastPointToolip(chart);
                    }, 1000);
                }
            }
        },
        title: {
            text: '8K时钟锁定延时'
        },
        xAxis: {
            type: 'datetime',
            tickPixelInterval: 150
        },
        yAxis: {
            title: {
                text: null
            }
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' +
                    Highcharts.dateFormat('%H:%M:%S', this.x) + '<br/>' +
                    Highcharts.numberFormat(this.y, 2);
            }
        },
        legend: {
            enabled: false
        },
        credits: {
            enabled: false
        },
        series: [{
            name: '锁定延时',
            marker: {
                //小圆点
                enabled: false
            },
            data: (function () {
                // 生成随机值
                var data = [],
                    time = (new Date()).getTime(),
                    i;
                for (i = -19; i <= 0; i += 1) {
                    data.push({
                        x: time + i * 1000,
                        y: Math.random()
                    });
                }
                return data;
            }())
        }]
    });
</script>
</html>